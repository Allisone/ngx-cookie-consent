<div class="ngx-cc" *ngIf="cookieConsentVisible">
    <div class="ngx-cc__wrapper">
        <div class="ngx-cc__modal" *ngIf="!showSettingsDialog">
            <div class="ngx-cc__modal_language-switcher" *ngIf="config('showLanguageSwitcher')">
                <div class="language-switcher">
                    <div class="flex flex-end">
                        <div class="language-chooser" title="{{ translate('choose_language_text') }}"
                             (click)="dropDownOpen = !dropDownOpen">
                            <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"
                                 viewBox="0 0 122.88 92.91">
                                <path
                                    d="M20.15,83.63,31.63,73.4a2.89,2.89,0,0,1,1.91-.73h27.8a.92.92,0,0,0,.93-.93V65.9H68v5.84a6.71,6.71,0,0,1-6.68,6.68H34.62L19.3,92.07a2.87,2.87,0,0,1-4.9-2V78.42H6.69A6.71,6.71,0,0,1,0,71.74V28.59a6.76,6.76,0,0,1,6.69-6.68H43.35v5.75H6.69a1,1,0,0,0-.94.93V71.74a.91.91,0,0,0,.28.65,1,1,0,0,0,.66.28H17.27a2.88,2.88,0,0,1,2.88,2.88v8.08Zm.21-19.48L29.6,36.24h8.83l9.24,27.91H40.35L38.8,59.07H29.15l-1.51,5.08ZM30.79,53.24h6.37L34,41.81,30.79,53.24ZM76.63,13.35h8.7V11.11a.69.69,0,0,1,.69-.69h4.65a.68.68,0,0,1,.68.69v2.24h9.76a.68.68,0,0,1,.68.69V18.5a.68.68,0,0,1-.68.68H99.56a26.3,26.3,0,0,1-.91,3.88l0,.06a26.07,26.07,0,0,1-1.74,4.15,32.34,32.34,0,0,1-2.14,3.43c-.67,1-1.41,1.9-2.2,2.83a35.78,35.78,0,0,0,3.68,3.83,41.43,41.43,0,0,0,5.09,3.74.68.68,0,0,1,.21.94l-2.39,3.73a.69.69,0,0,1-1,.2,45.88,45.88,0,0,1-5.58-4.08l0,0a41.42,41.42,0,0,1-4-4.1C87.3,38.93,86.15,40,85,41l0,0c-1.36,1.12-2.79,2.2-4.47,3.36a.69.69,0,0,1-1-.17L77,40.53a.69.69,0,0,1,.17-1c1.66-1.14,3-2.19,4.36-3.28,1.16-1,2.28-2,3.49-3.16a44.82,44.82,0,0,1-2.77-4.45A28.84,28.84,0,0,1,80,22.9a.68.68,0,0,1,.47-.84l4.27-1.19a.68.68,0,0,1,.84.47A22.62,22.62,0,0,0,89,28.7L90.27,27a26.33,26.33,0,0,0,1.51-2.47l0,0A19.43,19.43,0,0,0,93,21.62a24,24,0,0,0,.66-2.44h-17a.69.69,0,0,1-.69-.68V14a.69.69,0,0,1,.69-.69Zm27,56.82L88.26,56.51H61.54a6.73,6.73,0,0,1-6.69-6.68V6.69a6.71,6.71,0,0,1,2-4.72l.2-.18A6.67,6.67,0,0,1,61.54,0h54.65a6.69,6.69,0,0,1,4.71,2l.19.2a6.69,6.69,0,0,1,1.79,4.51V49.83a6.73,6.73,0,0,1-6.69,6.68h-7.7V68.13a2.88,2.88,0,0,1-4.91,2ZM91.26,51.49l11.47,10.23V53.64a2.88,2.88,0,0,1,2.88-2.88h10.58a.92.92,0,0,0,.65-.28.91.91,0,0,0,.29-.65V6.69a1,1,0,0,0-.22-.58L116.84,6a1,1,0,0,0-.65-.29H61.54A.94.94,0,0,0,61,6L60.89,6a.92.92,0,0,0-.28.65V49.83a.92.92,0,0,0,.93.93H89.35a2.86,2.86,0,0,1,1.91.73Z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="dropdown" [ngClass]="{'dropdown--active': dropDownOpen}">
                        <div class="dropdown__item" *ngFor="let lang of availableLanguages"
                             [ngClass]="{'dropdown__item--active': activeLang === lang}">
                            <div class="dropdown__item_text" (click)="switchLanguage(lang)">
                                <i class="flag-icon flag-{{ lang }}"></i> {{ translate('language', lang) }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ngx-cc__modal__header">
                <h1 class="text--center">{{ translate('title') }}</h1>
            </div>
            <div class="ngx-cc__modal__body">
                <p>{{ translate('text') }}</p>
                <div>
                    <ul class="ngx-cc__cookie-controls">
                        <li><a [href]="privacyPolicyUrl" target="_blank">{{ translate('privacy_text') }}</a></li>
                        <li><a [href]="imprintUrl" target="_blank">{{ translate('imprint_text') }}</a></li>
                        <li><span class="text--link"
                                  (click)="showSettingsDialog = true">{{ translate('privacy_settings_text') }}</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="ngx-cc__modal__footer text--center">
                <div class="ngx-cc__modal__controls">
                    <button class="secondary text--uppercase cc-deny" (click)="denyAllCookies()">{{ translate('decline_text') }}</button>
                    <button class="text--uppercase cc-accept-all" (click)="acceptAllCookies()">{{ translate('accept_text') }}</button>
                </div>
            </div>
        </div>
        <div class="ngx-cc__modal" *ngIf="showSettingsDialog">
            <div class="ngx-cc__modal_back">
                <div class="flex flex-start">
                    <div class="back-button" title="{{ translate('back_text') }}" (click)="back()">
                        <svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision"
                             text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd"
                             clip-rule="evenodd" viewBox="0 0 512 512">
                            <path fill-rule="nonzero"
                                  d="M512 256c0 70.68-28.66 134.7-74.98 181.02C390.7 483.34 326.68 512 256 512c-70.69 0-134.7-28.66-181.02-74.98C28.66 390.7 0 326.69 0 256c0-70.69 28.66-134.7 74.98-181.02C121.3 28.66 185.31 0 256 0c70.68 0 134.7 28.66 181.02 74.98C483.34 121.3 512 185.31 512 256zM280.33 146.96 171.3 256l109.03 109.04 40.52-40.51-68.51-68.52 68.52-68.52-40.53-40.53zm130.66 264.03c39.66-39.66 64.2-94.47 64.2-154.99 0-60.53-24.54-115.33-64.2-154.99-39.66-39.66-94.47-64.2-154.99-64.2-60.53 0-115.33 24.54-154.99 64.2-39.66 39.66-64.2 94.46-64.2 154.99 0 60.53 24.54 115.33 64.2 154.99 39.66 39.66 94.46 64.2 154.99 64.2 60.52 0 115.33-24.54 154.99-64.2z"/>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="ngx-cc__modal__header">
                <h1 class="text--center">{{ translate('privacy_settings_title') }}</h1>
            </div>
            <div class="ngx-cc__modal__body">
                <p>{{ translate('privacy_settings_title_text') }}</p>
                <div>
                    <ul class="ngx-cc__cookie-controls">
                        <li><a [href]="privacyPolicyUrl" target="_blank">{{ translate('privacy_text') }}</a></li>
                        <li><a [href]="imprintUrl" target="_blank">{{ translate('imprint_text') }}</a></li>
                    </ul>
                </div>
            </div>
            <div class="ngx-cc__consent_purposes">
                <div class="block" [ngClass]="{'block--closed': functionalCookiesClosed}" *ngIf="config('showFunctionalCookies')">
                    <div class="block__header">
                        <div class="block__title">
                            <h4>{{ translate('functional_title') }}</h4>
                            <span>{{ translate('functional_description') }}</span>
                        </div>
                        <div class="block__item__controls">
                            <div class="checkbox checkbox--apple">
                                <input type="checkbox" id="functional_cookies" name="functional_cookies" value="1" [checked]="functionalCookiesAllSelected" (change)="toggle($event, 'functional')">
                                <label for="functional_cookies"></label>
                            </div>
                        </div>
                        <div class="block__opener">
                            <i class="icon icon--small icon--arrow-down" [ngClass]="{
                                'icon--arrow-down': functionalCookiesClosed,
                                'icon--arrow-up': !functionalCookiesClosed
                            }" (click)="functionalCookiesClosed = !functionalCookiesClosed"
                            *ngIf="config('functionalCookies').length > 0"></i>
                        </div>
                    </div>
                    <div class="block__items" [formGroup]="cookieForm">
                        <div class="block__item" *ngFor="let functional of config('functionalCookies')">
                            <div class="block__item__title">
                                <h5>{{ functional.name }}</h5>
                                <div class="text--tiny">{{ functional.description }}</div>
                                <a class="text--link text--link--tiny" href="{{ functional.privacyPolicyUrl }}" target="_blank">{{ functional.privacyPolicyUrl }}</a>
                            </div>
                            <div class="block__item__controls" formGroupName="functional">
                                <div class="checkbox checkbox--apple checkbox--tiny">
                                    <input type="checkbox" id="{{ functional.key }}" formControlName="{{ functional.key }}" value="1">
                                    <label for="{{ functional.key }}"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="block" [ngClass]="{'block--closed': marketingCookiesClosed}" *ngIf="config('showMarketingCookies')">
                    <div class="block__header">
                        <div class="block__title">
                            <h4>{{ translate('marketing_title') }}</h4>
                            <span>{{ translate('marketing_description') }}</span>
                        </div>
                        <div class="block__item__controls">
                            <div class="checkbox checkbox--apple">
                                <input type="checkbox" id="marketing_cookies" name="marketing_cookies" value="1" [checked]="marketingCookiesAllSelected" (change)="toggle($event, 'marketing')">
                                <label for="marketing_cookies"></label>
                            </div>
                        </div>
                        <div class="block__opener">
                            <i class="icon icon--small icon--arrow-down" [ngClass]="{
                                'icon--arrow-down': marketingCookiesClosed,
                                'icon--arrow-up': !marketingCookiesClosed
                            }" (click)="marketingCookiesClosed = !marketingCookiesClosed"
                            *ngIf="config('marketingCookies').length > 0"></i>
                        </div>
                    </div>
                    <div class="block__items" [formGroup]="cookieForm">
                        <div class="block__item" *ngFor="let marketing of config('marketingCookies')">
                            <div class="block__item__title">
                                <h5>{{ marketing.name }}</h5>
                                <div class="text--tiny">{{ marketing.description }}</div>
                                <a class="text--link text--link--tiny" href="{{ marketing.privacyPolicyUrl }}" target="_blank">{{ marketing.privacyPolicyUrl }}</a>
                            </div>
                            <div class="block__item__controls" formGroupName="marketing">
                                <div class="checkbox checkbox--apple checkbox--tiny">
                                    <input type="checkbox" id="{{ marketing.key }}" formControlName="{{ marketing.key }}" value="1">
                                    <label for="{{ marketing.key }}"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="block" [ngClass]="{'block--closed': essentialCookiesClosed}" *ngIf="config('showEssentialCookies')">
                    <div class="block__header">
                        <div class="block__title">
                            <h4>{{ translate('essential_title') }}</h4>
                            <span>{{ translate('essential_description') }}</span>
                        </div>
                        <div class="block__item__controls">
                            <div class="checkbox checkbox--apple">
                                <input type="checkbox" id="essential_cookies" name="essential_cookies" value="1" checked disabled>
                                <label for="essential_cookies"></label>
                            </div>
                        </div>
                        <div class="block__opener">
                            <i class="icon icon--small icon--arrow-down" [ngClass]="{
                                'icon--arrow-down': essentialCookiesClosed,
                                'icon--arrow-up': !essentialCookiesClosed
                            }" (click)="essentialCookiesClosed = !essentialCookiesClosed"
                               *ngIf="config('essentialCookies').length > 0"></i>
                        </div>
                    </div>
                    <div class="block__items">
                        <div class="block__item" *ngFor="let essential of config('essentialCookies')">
                            <div class="block__item__title">
                                <h5>{{ essential.name }}</h5>
                                <div class="text--tiny">{{ essential.description }}</div>
                                <a class="text--link text--link--tiny" href="{{ essential.privacyPolicyUrl }}" target="_blank">{{ essential.privacyPolicyUrl }}</a>
                            </div>
                            <div class="block__item__controls">
                                <div class="checkbox checkbox--apple checkbox--tiny">
                                    <input type="checkbox" id="{{ essential.key }}" name="{{ essential.key }}" value="1" checked disabled>
                                    <label for="{{ essential.key }}"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="block" [ngClass]="{'block--closed': otherToolsClosed}" *ngIf="config('showOtherTools')">
                    <div class="block__header">
                        <div class="block__title">
                            <h4>{{ translate('other_title') }}</h4>
                            <span>{{ translate('other_description') }}</span>
                        </div>
                        <div class="block__item__controls">
                            <div class="checkbox checkbox--apple">
                                <input type="checkbox" id="other_cookies" name="other_cookies" value="1" checked disabled>
                                <label for="other_cookies"></label>
                            </div>
                        </div>
                        <div class="block__opener">
                            <i class="icon icon--small icon--arrow-down" [ngClass]="{
                                'icon--arrow-down': otherToolsClosed,
                                'icon--arrow-up': !otherToolsClosed
                            }" (click)="otherToolsClosed = !otherToolsClosed"
                            *ngIf="config('otherTools').length > 0"></i>
                        </div>
                    </div>
                    <div class="block__items">
                        <div class="block__item" *ngFor="let other of config('otherTools')">
                            <div class="block__item__title">
                                <h5>{{ other.name }}</h5>
                                <div class="text--tiny">{{ other.description }}</div>
                                <a class="text--link text--link--tiny" href="{{ other.privacyPolicyUrl }}" target="_blank">{{ other.privacyPolicyUrl }}</a>
                            </div>
                            <div class="block__item__controls">
                                <div class="checkbox checkbox--apple checkbox--tiny">
                                    <input type="checkbox" id="{{ other.key }}" name="{{ other.key }}" value="1" checked disabled>
                                    <label for="{{ other.key }}"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ngx-cc__modal__footer text--center">
                <div class="ngx-cc__modal__controls">
                    <button class="secondary text--uppercase cc-accept-some" (click)="saveSomeCookies()">{{ translate('save_text') }}</button>
                    <button class="text--uppercase cc-deny" (click)="denyAllCookies()">{{ translate('decline_text') }}</button>
                    <button class="text--uppercase cc-accept-all" (click)="acceptAllCookies()">{{ translate('accept_text') }}</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="ngx-cc__opener" [ngClass]="['ngx-cc__opener-' + config('openerPosition')]" *ngIf="!cookieConsentVisible && config('showBadgeOpener')" (click)="cookieConsentVisible = true">
    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
         y="0px" viewBox="0 0 120.23 122.88" style="enable-background:new 0 0 120.23 122.88" xml:space="preserve"
    ><style type="text/css">.st0 {
        fill-rule: evenodd;
        clip-rule: evenodd;
        fill: #FFFFFF;
    }</style>
        <g><path class="st0" d="M98.18,0c3.3,0,5.98,2.68,5.98,5.98c0,3.3-2.68,5.98-5.98,5.98c-3.3,0-5.98-2.68-5.98-5.98 C92.21,2.68,94.88,0,98.18,0L98.18,0z M99.78,52.08c5.16,7.7,11.69,10.06,20.17,4.85c0.28,2.9,0.35,5.86,0.2,8.86 c-1.67,33.16-29.9,58.69-63.06,57.02C23.94,121.13-1.59,92.9,0.08,59.75C1.74,26.59,30.95,0.78,64.1,2.45 c-2.94,9.2-0.45,17.37,7.03,20.15C64.35,44.38,79.49,58.63,99.78,52.08L99.78,52.08z M30.03,47.79c4.97,0,8.99,4.03,8.99,8.99 s-4.03,8.99-8.99,8.99c-4.97,0-8.99-4.03-8.99-8.99S25.07,47.79,30.03,47.79L30.03,47.79z M58.35,59.25c2.86,0,5.18,2.32,5.18,5.18 c0,2.86-2.32,5.18-5.18,5.18c-2.86,0-5.18-2.32-5.18-5.18C53.16,61.57,55.48,59.25,58.35,59.25L58.35,59.25z M35.87,80.59 c3.49,0,6.32,2.83,6.32,6.32c0,3.49-2.83,6.32-6.32,6.32c-3.49,0-6.32-2.83-6.32-6.32C29.55,83.41,32.38,80.59,35.87,80.59 L35.87,80.59z M49.49,32.23c2.74,0,4.95,2.22,4.95,4.95c0,2.74-2.22,4.95-4.95,4.95c-2.74,0-4.95-2.22-4.95-4.95 C44.54,34.45,46.76,32.23,49.49,32.23L49.49,32.23z M76.39,82.8c4.59,0,8.3,3.72,8.3,8.3c0,4.59-3.72,8.3-8.3,8.3 c-4.59,0-8.3-3.72-8.3-8.3C68.09,86.52,71.81,82.8,76.39,82.8L76.39,82.8z M93.87,23.1c3.08,0,5.58,2.5,5.58,5.58 c0,3.08-2.5,5.58-5.58,5.58s-5.58-2.5-5.58-5.58C88.29,25.6,90.79,23.1,93.87,23.1L93.87,23.1z"/></g></svg>
</div>
